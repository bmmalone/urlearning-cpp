# URLearning

This c++ project implements a number of algorithms for learning Bayesian network
structures using state space search techniques. Please see the main
[URLearning](http://urlearning.org/) site for more details.

## Installation

This project requires the [Bazel](https://bazel.build/versions/master/docs/install.html)
build tool, as well as a standard development environment (gcc, etc.)

Installation and compilation follows the standard, `configure`, `make`,
`make install` process:

```
git clone git@github.com:bmmalone/urlearning-cpp.git
cd urlearing-cpp
./configure --prefix=$HOME/local
make
make install
```

The programs will be installed in `<prefix>/bin`. This location must be in the
`$PATH` to run the programs without specifying complete paths. In bash, this can
be accomplished by adding a line like `export PATH=<prefix>/bin:$PATH` to
the file `$HOME/.bashrc`, where `<prefix>` is the path used in `configure`.

Compilation and installation only requires `sudo` privileges if the location
used for `prefix` requires it.

An initial part of compilation entails downloading [Boost](http://www.boost.org/).
Depending on the internet connection, this process can take some time.

By default, `make` compiles all of the programs in the URLearning suite. If
desired, specific programs can be compiled by supplying the appropriate name,
`make <program>`. The available options are as follows.

* `anytime-window-astar`
* `astar`
* `bfbnb`
* `bfbnb-hash`
* `score`

Please see [docs/usage.md](docs/usage.md) for instructions on running the
solvers. (Locally, ``docs/usage.html`` may be easier to view.)

## Example

The distribution includes a sample dataset based on [Fisher's iris database](http://archive.ics.uci.edu/ml/datasets/Iris?ref=datanews.io)
 in the `<urlearning_cpp_home>/data` directory.
 
Learning the optimal BN structure for the dataset entails two steps. First, the
"local scores" must be calculated using the `score` program.

```
score data/iris.csv data/iris.pss --has-header
```

This command will print some information about program execution to stdout.
Additionally, it will create `data/iris.pss`, a [parent set scores file](http://urlearning.org/PSS-Keywords.ods)
which contains all of the necessary local scores.

Second, the local scores are used as input to one of the solvers.

```
astar data/iris.pss --net-file data/iris.net
```

This command will again print some execution information to stdout, including
the score of the optimal network. Because the `--net-file` option was given,
the optimal structure will be written to `data/iris.net` in Hugin net file
format.

## Usage

Please see [docs/usage.md](docs/usage.md) for instructions on running the
solvers. (Locally, ``docs/usage.html`` may be easier to view.)

## Uninstallation

The local build files (the `bazel-XXX` folders) can be removed with `make clean`.

Additionally, the `Makefile` generated by `configure` (as well as the build
files) can be removed with `make distclean`.)

Finally, the executable programs can be removed from the installation location
(`<prefix>/bin`) with `make uninstall`. This *does not* remove the build files.

## Citation

Please see the [URLearning site](http://urlearning.org/publications.html) for a
detailed publication list, as well as PDFs of all papers.